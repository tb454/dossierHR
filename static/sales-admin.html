<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>BRidge Sales â€” Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module" src="/static/sales-admin.js" defer></script>
</head>
<body class="bg-zinc-50 text-zinc-900">
  <div class="max-w-6xl mx-auto p-6">
    <div class="flex items-center justify-between">
      <h1 class="text-2xl font-bold">Sales Admin</h1>
      <div class="flex gap-3 text-sm">
        <a class="underline" href="/dashboard/sales">Portal</a>
        <a class="underline" href="/sales/manager/ui">Manager</a>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 mt-6">
      <div class="bg-white border rounded-xl p-4">
        <div class="font-semibold">Invite Rep</div>
        <form id="invForm" class="mt-3 space-y-2">
          <input name="email" class="w-full border rounded-lg p-2 text-sm" placeholder="Email" required />
          <select name="role" class="w-full border rounded-lg p-2 text-sm">
            <option value="sales_rep">sales_rep</option>
            <option value="sales_manager">sales_manager</option>
            <option value="sdr">sdr</option>
            <option value="admin">admin</option>
          </select>
          <button class="w-full bg-black text-white rounded-lg p-2 text-sm font-medium">Create Invite Link</button>
        </form>
        <div id="invOut" class="text-sm text-zinc-600 mt-3"></div>
      </div>

      <div class="bg-white border rounded-xl p-4">
        <div class="font-semibold">Approve Applicant</div>
        <form id="apprForm" class="mt-3 space-y-2">
          <input name="rep_id" class="w-full border rounded-lg p-2 text-sm" placeholder="rep_id (UUID)" required />
          <select name="rep_role" class="w-full border rounded-lg p-2 text-sm">
            <option value="sales_rep">sales_rep</option>
            <option value="sales_manager">sales_manager</option>
            <option value="sdr">sdr</option>
            <option value="admin">admin</option>
          </select>
          <input name="temp_password" class="w-full border rounded-lg p-2 text-sm" placeholder="Temp password" required />
          <button class="w-full bg-black text-white rounded-lg p-2 text-sm font-medium">Approve</button>
        </form>
        <div id="apprOut" class="text-sm text-zinc-600 mt-3"></div>
      </div>

      <div class="bg-white border rounded-xl p-4">
        <div class="font-semibold">Manual Revenue Post</div>
        <form id="revForm" class="mt-3 space-y-2">
          <input name="company_id" class="w-full border rounded-lg p-2 text-sm" placeholder="company_id (UUID)" required />
          <select name="revenue_type" class="w-full border rounded-lg p-2 text-sm">
            <option value="subscription">subscription</option>
            <option value="overage">overage</option>
            <option value="addon">addon</option>
            <option value="one_time">one_time</option>
          </select>
          <input name="amount_cents" class="w-full border rounded-lg p-2 text-sm" placeholder="amount_cents (e.g. 1000000)" required />
          <input name="collected_at" class="w-full border rounded-lg p-2 text-sm" placeholder="collected_at ISO (e.g. 2025-12-29T12:00:00)" required />
          <input name="proposed_plan" class="w-full border rounded-lg p-2 text-sm" placeholder="proposed_plan (starter/standard/enterprise) for activation" />
          <button class="w-full bg-black text-white rounded-lg p-2 text-sm font-medium">Post Revenue</button>
        </form>
        <div id="revOut" class="text-sm text-zinc-600 mt-3"></div>
      </div>
    </div>

    <div class="bg-white border rounded-xl p-4 mt-6">
      <div class="font-semibold">Reps (latest)</div>
      <div id="reps" class="text-sm text-zinc-600 mt-3">Loading...</div>
    </div>

    <div class="bg-white border rounded-xl p-4 mt-6">
      <div class="font-semibold">Assets (add/update)</div>
      <form id="assetForm" class="mt-3 grid grid-cols-1 md:grid-cols-4 gap-2">
        <input name="name" class="border rounded-lg p-2 text-sm" placeholder="Name" required />
        <input name="asset_type" class="border rounded-lg p-2 text-sm" placeholder="asset_type" required />
        <input name="url" class="border rounded-lg p-2 text-sm" placeholder="URL" required />
        <input name="notes" class="border rounded-lg p-2 text-sm" placeholder="Notes" />
        <button class="md:col-span-4 bg-black text-white rounded-lg p-2 text-sm font-medium">Save Asset</button>
      </form>
      <div id="assetOut" class="text-sm text-zinc-600 mt-2"></div>
    </div>
  </div>
</body>
</html>
